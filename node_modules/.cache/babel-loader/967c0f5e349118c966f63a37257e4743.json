{"ast":null,"code":"var _jsxFileName = \"/Users/rachitbartwal/Desktop/coding/MUSIC-SHARE/backend/frontend/src/components/loginform.js\",\n    _s = $RefreshSig$();\n\nimport \"./loginform.css\";\nimport { authUser, getNewToken } from \"../services/music_services\";\nimport { newProfileAction } from \"../reducers/musicReducers\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst LoginForm = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const loginSubmit = event => {\n    event.preventDefault();\n    authUser({\n      email: event.target.email.value,\n      password: event.target.password.value\n    }).then(result => {\n      if (result.error) {\n        alert(`Error when searching for the user`);\n      } else if (!result.found) {\n        alert(`email not found`);\n      } else if (!result.match) {\n        alert(`Password does not match`);\n      } else if (result.match) {\n        alert(`found`);\n        getNewToken(result.refresh_token).then(token => {\n          console.log(`From login componenet: token: ${token}`);\n          dispatch(newProfileAction({\n            first_name: result.fname,\n            last_name: result.lname,\n            username: result.username,\n            email: result.email,\n            password: null,\n            refresh_token: result.refresh_token,\n            spotify_profile: result.spotify_profile,\n            image: result.image\n          }));\n        });\n        navigate(\"/homefeed\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signInHeading\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"MUSIC SHARE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lineContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 44\n      }, this), \"Welcome Back!\", /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 79\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"userForm\",\n      onSubmit: loginSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"email\",\n        className: \"signInInput\",\n        type: \"email\",\n        required: true,\n        name: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"password\",\n        className: \"signInInput\",\n        type: \"password\",\n        required: true,\n        name: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"logInButton\",\n        children: \"log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(LoginForm, \"R1L93MxeLXzQXESpmjjjQSuQgvM=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/Users/rachitbartwal/Desktop/coding/MUSIC-SHARE/backend/frontend/src/components/loginform.js"],"names":["authUser","getNewToken","newProfileAction","useDispatch","useNavigate","LoginForm","dispatch","navigate","loginSubmit","event","preventDefault","email","target","value","password","then","result","error","alert","found","match","refresh_token","token","console","log","first_name","fname","last_name","lname","username","spotify_profile","image"],"mappings":"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","sourcesContent":["import \"./loginform.css\"\nimport {authUser, getNewToken} from \"../services/music_services\"\nimport { newProfileAction } from \"../reducers/musicReducers\"\nimport {useDispatch} from \"react-redux\"\nimport { useNavigate } from \"react-router-dom\"\n\nconst LoginForm = () =>{\n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n\n    const loginSubmit = event => {\n        event.preventDefault()\n        authUser({\n            email: event.target.email.value,\n            password: event.target.password.value\n        })\n            .then(result=>{\n                if(result.error){\n                    alert(`Error when searching for the user`)\n                } else if (! result.found){\n                    alert(`email not found`)\n                } else if(!result.match) {\n                    alert(`Password does not match`)\n                } else if (result.match){\n                    alert(`found`)\n                    getNewToken(result.refresh_token)\n                        .then( token => {\n                            console.log(`From login componenet: token: ${token}`)\n                            dispatch(newProfileAction({\n                                first_name: result.fname,\n                                last_name: result.lname,\n                                username: result.username,\n                                email: result.email,\n                                password: null,\n                                refresh_token: result.refresh_token,\n                                spotify_profile: result.spotify_profile,\n                                image: result.image\n                            }))\n                        })\n                    navigate(\"/homefeed\")\n                }\n            })\n    }\n    return(\n        <>\n            <div className='signInHeading'>\n                <h1>MUSIC SHARE</h1>\n            </div>\n            <div className='lineContainer'><hr className='line'/>Welcome Back!<hr className='line'/></div>\n            <form className='userForm' onSubmit={loginSubmit}>\n                <input placeholder=\"email\" className='signInInput' type=\"email\" required={true} name=\"email\"/>\n                <input placeholder=\"password\" className='signInInput' type=\"password\" required={true} name=\"password\"/>\n                <button type='submit' className=\"logInButton\">log in</button>\n            </form>\n        </>\n    )\n}\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}